[{"title":"课程设计1","path":"/2023/10/08/汇编语言/课程设计1/","content":"花了大约两天的时间写完了课程设计1有些瑕疵，比如显示数据的时候最后一行往往不能正常显示。于是我多添加了一行无用数据，使得题目所给数据能够正常显示。如有大佬指点，万分感谢 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200; 不知道为什么显示最后一行的时候会出错, 所以我多加了一行数据assume cs:codesgdata segmentdb&#x27;1975&#x27;,&#x27;1976&#x27;,&#x27;1977&#x27;,&#x27;1978&#x27;,&#x27;1979&#x27;,&#x27;1980&#x27;,&#x27;1981&#x27;,&#x27;1982&#x27;,&#x27;1983&#x27;db&#x27;1984&#x27;,&#x27;1985&#x27;,&#x27;1986&#x27;,&#x27;1987&#x27;,&#x27;1988&#x27;,&#x27;1989&#x27;,&#x27;1990&#x27;,&#x27;1991&#x27;,&#x27;1992&#x27;db&#x27;1993&#x27;,&#x27;1994&#x27;,&#x27;1995&#x27;,&#x27;0000&#x27;;以上是表示21年的21个字符串dd 16,22,382,1356,2390,8000,16000,24486,50065,97479,140417,197514dd 345980,590827,803530,1183000,1843000,2759000,3753000,4649000,5937000,0 ;以上是表示21年公司总收入的21个dword型数据dw 3,7,9,13,28,38,130,220,476,778,1001,1442,2258,2793,4037,5635,8226dw 11542,14430,15257,17800,1;以上是表示21年公司雇员人数的21个word型数据data ends;将数据放到一张表里面table segmentdb 22 dup(&#x27;year summ ne ??&#x27;)table ends; 用来临时存放倒序的数digit segment db 32 dup(0)digit endsstacksg segment dw 8 dup (0)stacksg endscodesg segmentstart: mov ax,stacksg mov ss,ax mov sp,32 mov ax,table mov ds,ax\tmov ax,data\tmov es,ax\tmov si,0\tmov di,88\tmov bp,176\tmov bx,0\tmov cx,22 call dtb ; 经过测试，能成功将数据显示到table段中！ call far ptr vis_number mov ax,4c00h int 21hdtb: ; dtb将数据都放在table里面 s1: mov ax, es:[si] ;利用ax作为中转站 mov [bx+0], ax mov ax, es:[si+2] mov [bx+2], ax mov byte ptr [bx+4], 20h mov ax, es:[di] mov [bx+5], ax mov ax, es:[di+2] mov [bx+7], ax mov byte ptr [bx+9], 20h mov ax, es:[bp] mov [bx+10], ax mov byte ptr [bx+12], 20h mov ax, [bx+5] mov dx, [bx+7] div word ptr [bx+10] mov [bx+13], ax mov byte ptr [bx+15], 20h add bx,16 add si,4 add di,4 add bp,2 loop s1 retvis_number: mov bx,0B800H mov es,bx mov cx,22 mov si,0 ; ds:si 指向table mov di,0 ; es:di 指向显存位置 sr: push cx call far ptr paint ;把这一行都变为空白 mov cx,4 mov bp,cx s4: mov al,[si] mov es:[di],al inc si add di,2 loop s4 call far ptr set_begin inc si mov ax,[si] mov dx,[si+2] call far ptr dtoc pop di call far ptr show_str call far ptr set_begin pop ds pop si add si,5 mov ax,[si] mov dx,0 call far ptr dtoc pop di call far ptr show_str call far ptr set_begin pop ds pop si add si,3 mov ax,[si] mov dx,0 call far ptr dtoc pop di call far ptr show_str call far ptr set_begin pop ds pop si add si,3 add di,80 pop cx loop sr retfpaint: mov cx,40 s2: mov es:[di],0 mov es:[di+1],7 add di,2 loop s2 sub di,80 retfdtoc: pop bx ; dtoc 的 ip pop cx ; dtoc 的 cs push si push ds push di push cx push bx mov bx,digit mov ds,bx mov di,0 mov bp,0 s: mov cx,10 mov bx,ax ; bx存放L(低16位) mov ax,dx mov dx,0 div cx ; int(H/N)在ax中，rem(H/N)在dx中 mov si,ax ; si存放int(H/N) mov ax,bx div cx ; 余数在dx中 add dl,30H mov [di],dl mov cx,ax inc bp add cx,si ; 算商是否为0，(cx) = (si) + (ax) jcxz ps ;当商是0的时候退出 inc di mov dx,si jmp s ps: retfshow_str: mov cx,bp mov ax,bp dec bp mov si,bp inc bp s5: mov al,[si] mov es:[di],al dec si add di,2 loop s5 retfset_begin: sub di,bp sub di,bp add di,20 retfcodesg endsend start","tags":["汇编语言"],"categories":["汇编语言","lab以及课程设计"]},{"title":"王爽《汇编语言》lab10","path":"/2023/10/06/汇编语言/lab10/","content":"往显存里面写东西，使得显示器能立马显示所写的内容 下面是lab10的代码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103assume cs:codedata segment db 10 dup (0)data endscode segmentstart: ; test for subprogram 1 ; mov dh,13 ; mov dl,0 ; mov cl,2 ; mov ax,data ; mov ds,ax ; mov si,0 ; call show_str ; test for subprogram 2 ; mov ax,4240H ; mov dx,000FH ; mov cx,0AH ; call divdw ;test for subprogram 3 mov ax,12466 mov bx,data mov ds,bx mov si,0 mov bp,0 ;用来存放有几位 call dtoc ok2:mov dh,13 mov dl,0 mov cl,2 mov si,0 call show_str2 ok: mov ax,4c00h int 21hshow_str: mov ax,0B800H ;计算行和列 在 显存中的地址 mov es,ax mov al,dh mov bl,0A0H mul bl mov di,ax mov al,dl mov bl,2H mul bl add di,ax mov bl,cl mov cx,0 s: mov cl,[si] jcxz ok mov al,[si] mov es:[di],al mov es:[di+1],bl add di,2 inc si jmp short sshow_str2: ;搭配dtoc使用，实现反向输出 mov ax,0B800H ;计算行和列 在 显存中的地址 mov es,ax mov al,dh mov bl,0A0H mul bl mov di,ax mov al,dl mov bl,2H mul bl add di,ax mov bl,cl mov cx,bp dec bp mov si,bp s2: mov al,[si] mov es:[di],al mov es:[di+1],bl add di,2 dec si dec cx jcxz ok jmp short s2 dtoc: mov bx,10 mov dx,0 ;不写这句话程序运行不了，应该是后面用到了dl，所以需要将dx先置0 s1: div bx add dl,30H ;dl存放余数 mov [si],dl inc bp mov dl,0 mov cx,ax jcxz ok2 inc si jmp short s1divdw: mov bx,ax ;bx存放L mov ax,dx mov dx,0 div cx ;得到 int(H/N)在ax中 和 rem(H/N)在dx中 mov si,ax ;si存放int(H/N) mov ax,bx div cx mov dx,si retcode endsend start","tags":["汇编语言"],"categories":["汇编语言","lab以及课程设计"]}]